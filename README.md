#  Какие виды методов HTTP запроса бывают. Рассказать про особенности и способы применения каждого метода. Привести примеры применения метода для разработанного вами API.

## Методы HTTP запроса
Давайте начнем с того, что такое вообще **HTTP**? **HTTP** (Hypertext Transfer Protocol) - протокол передачи гипертекста (веб-страниц), разработанный для осуществления коммуникаций между серверной и клиентской сторонами. В качестве клиента обычно выступает браузер пользователя, а в качестве сервера - компьютер, который хранит в себе файлы сайта и предоставляет их браузеру для обработки. 
***

HTTP определяет множество методов запроса, которые указывают, какое желаемое действие выполнится для данного ресурса. Рассмотрим, какие виды методов HTTP бывают и разберем каждый в отдельности. К методам HTTP относятся:

1. Метод GET
2. Метод HEAD
3. Метод POST
4. Метод PUT
5. Метод DELETE 
6. Метод CONNECT
7. Метод OPTIONS
8. Метод TRACE
9. Метод PATCH

### Метод GET
Данный метод позволяет запрашивать данные с определенного ресурса (сайта). Запросы с использованием этого метода могут только извлекать данные. Страница, созданная методом **GET**, может быть открыта повторно множество раз. Такая страница может быть кэширована браузерами, проиндексирована поисковыми системами и добавлена в закладки пользователем. Например, можно использовать метод **GET** в HTML форме фильтра товаров: когда нужно, исходя из данных введенных пользователем, переправить его на страницу с отфильтрованными товарами, соответствующими его выбору.

#### Особенности метода GET 

* может быть закэширован;
* остается в истории браузера;
* может быть закладкой в браузере;
* не должен использоваться при работе с крайне важными данными;
* имеет ограниченную длину;
* должен применяться только для получения данных.

### Метод POST
Метод **POST** нужен для того, чтобы отправить данные на сервер. Разработчики ввели метод **POST** в HTTP  стандарт, чтобы клиенты могли, например:

* оставлять сообщения на различных Интернет-ресурсах;
* передавать информацию о себе, заполняя HTML формы;

В результате выполнения HTTP метода **POST** код состояния сервера при использовании HTTP метода **POST** может быть 200 (в этом случае вы получите какой-либо ресурс), либо 204 (в этом случае вы не получите никакого содержимого). Ответы сервера на метод **POST** не кэшируются, но это можно сделать принудительно, если использовать поле Cache-Control или Expires в заголовке.

Запрос, выполненный методом **POST**, следует использовать в тех случаях, когда нужно вносить изменение в ресурс (выполнить авторизацию, отправить форму оформления заказа, форму обратной связи, форму онлайн заявки). Повторный переход по конечной ссылке не вызовет повторную обработку запроса, так как не будет содержать переданных ранее параметров. Метод **POST** имеет большую степень защиты данных, чем GET: параметры запроса не видны пользователю без использования специального ПО, что дает методу преимущество при пересылке конфиденциальных данных, например в формах авторизации.

#### Особенности метода POST 

* не кэшируется;
* не может быть закладкой в браузере;
* не остаётся в истории браузера;
* нет ограничений по длине запроса.

### Метод HEAD
**HEAD** запрашивает ресурс так же, как и метод GET, но без тела ответа. Все заголовки ответа при запросе клиента с использованием метода **HEAD** идентичны тем заголовкам, которые бы были, если бы использовался метод GET. Обычно HTTP метод **HEAD** используется для получения метаинформации об объекте без пересылки тела HTTP сообщения. Метод **HEAD** часто используется для тестирования HTTP соединений и достижимости узлов и ресурсов, так как нет необходимости пересылать по сети содержимое, тестирование HTTP методом HEAD производится гораздо быстрее. Сервер может кэшировать свои ответы на запросы с методом **HEAD**. 

### Метод PUT
**PUT** используется для загрузки содержимого запроса на указанный в этом же запросе URI. То есть HTTP запрос с методом PUT уже заранее содержат в теле сообщения какой-то объект, который должен быть сохранен на сервере по адресу, который указан в URI. Но если по данному URI уже есть какие-либо данные, то данные, поступающие из запроса с методом **PUT**, считаются модификацией. То есть с помощью этого метода мы можем изменить какие-то данные, например, в личном кабинете изменить профиль и т.д.

#### Особенности метода PUT

* ответы сервера на данный метод не кешируются;
* метод PUT создает объект по URI.

### Метод DELETE
**DELETE** запрашивает, чтобы исходный сервер удалил ресурс, идентифицированный запросом-URI. Этот метод может быть переопределен вмешательством человека (или другими средствами) на исходном сервере. Клиент не может быть гарантирован, что операция была выполнена, даже если код состояния, возвращенный с исходного сервера, указывает, что действие было успешно завершено.

#### Особенности метода DELETE

* запрос может иметь тело;
* запрос данным методом идемпотентный;
* данный метод не кешируются.

### Метод CONNECT
**CONNECT** устанавливает "туннель" к серверу, определённому по ресурсу. Стоит обратить внимание, что данный метод используется в основном для шифрования соединения. CONNECT метод можно использовать для доступа к веб-сайтам, использующим SSL ( HTTPS ). Клиент запрашивает прокси-сервер HTTP для туннелирования TCP-соединения в желаемое место назначения. Затем сервер устанавливает соединение от имени клиента.

#### Особенности метода CONNECT

* у запроса нет тела;
* не кешируется; 
* не идемпотентный.

### Метод OPTIONS
**OPTIONS** - служит для получения параметров для ресурса или для сервера в целом и при этом сам ресурс никак не затрагивается. Особенность HTTP метода **OPTIONS** заключается в том, что он не производит никаких действий с самим ресурсом (если браузер будет использовать метод **OPTIONS**, то он даже не станет загружать страницу). Ответ на запрос **OPTIONS** может содержать список допустимых методов для данного ресурса в хедере Allow.

#### Особенности метода OPTIONS

* запрос не имеет тело;
* не кешируется;
* не идемпотентный;
* не производит никаких действий с ресурсом.

### Метод TRACE
**TRACE** выполняет вызов возвращаемого тестового сообщения с ресурса. **TRACE** используется при тестировании и отсылает полное сообщение, полученное веб-сервером, обратно клиенту, что позволяет увидеть конкретное содержимое, полученное веб-сервером.

#### Особенности метода TRACE

* у запроса нет тела;
* не кешируется;
* запрос идемпотентный;
* используется для тестирования.

### Метод PATCH
**PATCH** используется для частичного изменения ресурса. Иными словами, в **PATCH** вложенный объект содержит набор инструкций, описывающих, как ресурс, находящийся в данный момент на исходном сервере, должен быть модифицирован для создания новой версии. 

#### Особенности метода PATCH

* запрос имеет тело;
* меняет состояние сервера;
* не кешируется;
* содержит набор инструкций.

## Примеры применения методов

В разработанном нашем API используется 4 основных метода - GET, POST, PUT, DELETE. У нас есть небольшая база с книгами.
***

1. Начнем с метода GET. Чтобы запросить список книг, мы применяем метод GET. Переходим по URL - http://tutorial-api.local:8081/api/v1/books/ и с токеном авторизации админа. Он нам выдаст список всех книг, которые хранятся в базе. Он выдаст статус - 200 OK.

GET http://tutorial-api.local:8081/api/v1/books/

*Вот наш запрос:* 

X-AUTH-TOKEN: 9259999999:q1w2e3
Content-Type: application/json
User-Agent: PostmanRuntime/7.26.8
Accept: */*
Postman-Token: df107f4f-ecc7-4321-8ab4-4b4b872d140b
Host: tutorial-api.local:8081
Accept-Encoding: gzip, deflate, br
Connection: keep-alive
Referer: http://tutorial-api.local:8081/api/v1/books/
Cookie: PHPSESSID=9qoir45ctmqqqi3m25otr0qumc

*И вот наш ответ:* 
Server: nginx/1.21.0
Content-Type: application/json
Transfer-Encoding: chunked
Connection: keep-alive
X-Powered-By: PHP/7.4.20
Set-Cookie: PHPSESSID=qcai1nd5uvnrqo3fapb4mk2u05; path=/; HttpOnly; SameSite=lax
Cache-Control: max-age=0, must-revalidate, private
Date: Sat, 26 Jun 2021 11:26:21 GMT
X-Robots-Tag: noindex
Expires: Sat, 26 Jun 2021 11:26:21 GMT

*И сам список книг*:

{
    "data": [
        {
            "author": "М.Ю.Лермонтов",
            "title": "Герой нашего времени",
            "desc": "Прекрасное произведение. Обязательно всем к прочтению!"
        },
        {
            "author": "Савченко А.А,",
            "title": "Как не падать",
            "desc": "красиов"
        },
        {
            "author": "А.С.Пушкин",
            "title": "Евгений Онегин",
            "desc": "красиов жить"
        },
        {
            "author": "ДМария ТИхомирова",
            "title": "Фантастический роман с пришельцем",
            "desc": "Великолпеное произведение"
        },
        {
            "author": "Мария Захарова",
            "title": "Как не падать лицом в грязь",
            "desc": "красиов житьаааааааа"
        },
        {
            "author": "Л.Н.Толстой",
            "title": "Вйона и мир",
            "desc": "Дуб зеленый как смысл жизни"
        },
        {
            "author": "Дарья Донцова",
            "title": "Фантастический роман",
            "desc": "Великолпено"
        },
        {
            "author": "Максим Пашкевич",
            "title": "Фантастический роман с пришельцем и цветочком",
            "desc": "Великолпеное произведение гениально"
        }
    ]
}

2. Метод POST. Мы захотим добавить книгу в нашу базу. Все по тому же URL, но теперь мы определяем метод POST POST http://tutorial-api.local:8081/api/v1/books/ и добавляем такую книгу: 

{
    "author": "Женя Стежков",
    "title": "парам пам пам",
    "desc": "красиво жить не запретишь"
}

В результате данного запроса ответом от сервера будет статус - 201 Created. Это значит, что наша книга добавилась в базу. 

3. Метод PUT. Теперь нам нужно конкретную книгу изменить название или еще какие-то поля. ТОгда определяем метод PUT.
PUT http://tutorial-api.local:8081/api/v1/books/60d7133436164762107fa3a2
И изменяем книгу: 
{
    "author": "Настя",
    "title": "Тараарара",
    "desc": "привет"
}

на это

{
    "author": "Настя Савченко",
    "title": "Тараарара",
    "desc": "привет, как дела?"
}

Вывод: статус запроса - 200 OK. Наши изменения успешно вступили в силу.

4. Метод DELETE. Давайте теперь удалим эту же книгу. Определяем метод DELETE http://tutorial-api.local:8081/api/v1/books/60d7133436164762107fa3a2 и отправляем запрос.

В ответ нам придет статус - 204No Content. Значит, что наша книга успешно удалилась из базы. 




